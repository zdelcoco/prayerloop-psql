# public.user_stats

## Description

Aggregated user statistics

## Columns

| Name            | Type     | Default                                           | Nullable | Children | Parents                                       | Comment                                        |
| --------------- | -------- | ------------------------------------------------- | -------- | -------- | --------------------------------------------- | ---------------------------------------------- |
| active_streak   | integer  | 0                                                 | true     |          |                                               | Current streak of consecutive active days.     |
| days_active     | integer  | 0                                                 | true     |          |                                               | Total number of days the user has been active. |
| prayers_prayed  | integer  | 0                                                 | true     |          |                                               | Total number of prayers prayed by the user.    |
| time_prayed     | interval | '00:00:00'::interval                              | true     |          |                                               | Total time spent praying by the user.          |
| user_profile_id | integer  |                                                   | false    |          | [public.user_profile](public.user_profile.md) | Foreign key referencing the associated user.   |
| user_stats_id   | integer  | nextval('user_stats_user_stats_id_seq'::regclass) | false    |          |                                               | Unique identifier for each user stats record.  |

## Constraints

| Name                            | Type        | Definition                                                             |
| ------------------------------- | ----------- | ---------------------------------------------------------------------- |
| user_stats_pkey                 | PRIMARY KEY | PRIMARY KEY (user_stats_id)                                            |
| user_stats_user_profile_id_fkey | FOREIGN KEY | FOREIGN KEY (user_profile_id) REFERENCES user_profile(user_profile_id) |

## Indexes

| Name                   | Definition                                                                                    |
| ---------------------- | --------------------------------------------------------------------------------------------- |
| idx_user_stats_user_id | CREATE UNIQUE INDEX idx_user_stats_user_id ON public.user_stats USING btree (user_profile_id) |
| user_stats_pkey        | CREATE UNIQUE INDEX user_stats_pkey ON public.user_stats USING btree (user_stats_id)          |

## Relations

```mermaid
erDiagram

"public.user_stats" }o--|| "public.user_profile" : "FOREIGN KEY (user_profile_id) REFERENCES user_profile(user_profile_id)"

"public.user_stats" {
  integer active_streak "Current streak of consecutive active days."
  integer days_active "Total number of days the user has been active."
  integer prayers_prayed "Total number of prayers prayed by the user."
  interval time_prayed "Total time spent praying by the user."
  integer user_profile_id FK "Foreign key referencing the associated user."
  integer user_stats_id "Unique identifier for each user stats record."
}
"public.user_profile" {
  boolean admin "Indicates if the user has admin privileges."
  integer created_by "User ID of the creator of this record."
  timestamp_without_time_zone datetime_create "Timestamp when the user record was created."
  timestamp_without_time_zone datetime_update "Timestamp when the user record was last updated."
  boolean deleted "Indicates if the user account has been marked as deleted."
  varchar_255_ email "The user's email address (optional)."
  boolean email_verified "Indicates if the user's email has been verified."
  varchar_255_ first_name "The user's first name."
  varchar_255_ last_name "The user's last name."
  varchar_255_ password "The user's password (hashed)."
  varchar_20_ phone_number "The user's phone number (optional)."
  boolean phone_verified "Indicates if the user's phone number has been verified."
  integer updated_by "User ID of who last updated this record."
  integer user_profile_id "Unique identifier for the user."
  varchar_255_ username "The user's chosen username (must be unique)."
  varchar_255_ verification_token "Token used for email/phone verification."
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
